{% from "utils/toolbars.html" import record_tools, toolbar_icon, toolbar_button, toolbar_label, divider %}
{% from "utils/collections.html" import show_collections %}

{% extends 'base.html' %}

{% block header %}
{% endblock %}

{% block content %}

<div class="sheath content">

<div class="contentbox">

  <ul class="toolbar">
    {{ toolbar_icon(48, "record", "Record", '') }}
<li style="height: 60px; line-height: 30px;">
    {{ record.title }}<li>
<!--<li style="height: 60px; line-height: 30px;">
	Last Modified: {{ record.mtime }}</li>-->
    {{ divider(48) }}
  </ul>
<div style="clear: both;"></div>

<div class="recordbox">

<table class="simple_record_view"><tbody>
{% for field in record.fields.fields %}

{%- if field.type == "title" %}
<tr class="title_field">
<td colspan="2"><h1 class="fieldval">{{ field.title }}</h1></td>
</tr>

{%- elif field.type == "text" %}
<tr class="text_field">
<td class="label">{{ field.name }}:</td>
<td class="fieldval">{{ field.text|safe }}</td>
</tr>

{%- elif field.type == "date" %}
<tr class="date_field">
<td class="label">{{ field.name }}:</td>
<td class="fieldval">{{ field.date_string }}</td>
</tr>

{%- elif field.type == "location" %}
<tr class="location_field">
<td class="label">{{ field.name }}:</td>
<td class="fieldval">{{ field.text }} {{ field.latlong }}</td>
</tr>

{%- elif field.type == "file" %}
<tr class="file_field">
<td class="label">{{ field.name }}:</td>
<td class="fieldval">

  {%- if field.display == field.DisplayTypes.thumb %}
  <img src="{{ field.src }}" width="" height="" title="{{ field.title }}" alt="{{ field.alt }}">{{ field.src }}
  {%- else %}
    {{ field.display }}
  {%- endif -%}

</td>
</tr>

{%- elif field.type == "tag" %}
<tr class="tag_field">
<td class="label">{{ field.name }}:</td>
<td class="fieldval">{{ field.text }}</td>

{%- else %}
<tr>
<td class="label">Unknown field type: {{field.type}}: {{ field.name }}</td>
</tr>
{% endif %}
{% endfor %}
</tbody></table>
</div>

{{ show_collections(record) }}
<div style="clear: both;"></div>

</div>
</div>
{% endblock %}
