{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}{{ record.title }}{% endblock %}</h1>
{% endblock %}

{% block content %}

Record: {{ record }}
{{ record.fields }}

<hr>
Collections:
<ul>
{% for collection in record.collections %}
<li>
  {%- set position = collection.record_position(record) -%}
  {%- set prev = collection.record_at_position(position - 1) -%}
  {%- set next = collection.record_at_position(position + 1) -%}
  <a href="{{ url_for("collections.collection_records", id=collection.id) }}">
  {{- collection.title -}}</a>
  ({{- position }} / {{ collection.record_count -}})
  {% if prev %}<a href="{{ url_for("records.view", id=prev.id) }}">Prev: {{ prev.title }}</a>{% endif %}
  {% if next %}<a href="{{ url_for("records.view", id=next.id) }}">Next: {{ next.title }}</a>{% endif %}
  </li>
{% endfor %}
</ul>
{% endblock %}

