(function(){var d;var b=function(e,f){return function(){return e.apply(f,arguments)}},a=Object.prototype.hasOwnProperty,c=function(h,f){for(var e in f){if(a.call(f,e)){h[e]=f[e]}}function g(){this.constructor=h}g.prototype=f.prototype;h.prototype=new g;h.__super__=f.prototype;return h};d=jQuery;Annotator.Plugins.Markdown=(function(){c(e,Delegator);e.prototype.events={annotationViewerShown:"updateViewer"};function e(g,f){this.updateViewer=b(this.updateViewer,this);if(typeof Showdown!="undefined"&&Showdown!==null){e.__super__.constructor.apply(this,arguments);this.addEvents();this.converter=new Showdown.converter()}else{console.error("To use the Markdown plugin, you must include Showdown into the page first.")}}e.prototype.updateViewer=function(k,n,j){var f,l,o,g,i,m,h;g=d(n).find(".annotator-ann-text");h=[];for(i=0,m=g.length;i<m;i++){o=g[i];f=d(o).parent().data("annotation");l=this.converter.makeHtml(f.text);h.push(d(o).html(l))}return h};return e})()}).call(this);